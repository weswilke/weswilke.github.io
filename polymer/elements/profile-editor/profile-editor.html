<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/core-ajax/core-ajax.html">
<link rel="import" href="../profile-item/profile-item.html">
<link rel="import" href="../post-service/post-service.html">


<polymer-element name="name-tag" attributes="person" noscript>
  <template>
    <profile-item>
      <img src="http://placekitten.com/250/250" width="125" height="125">
      <h2>{{person.name || "Your Name Here"}}</h2>
      <h3>{{person.title || "Your Awesome Title"}}</h3>
      {{person.description || "Tell us a little bit about yourself"}}
    </profile-item>
  </template>
</polymer-element>


<polymer-element name="profile-editor">
  <template>
    <style>
    paper-input {
      width: 100%;
    }
    </style>

    <profile-item>
      <img src="http://placekitten.com/250/250" width="125" height="125">
      <h2><paper-input name="name" value="{{person.name}}" label="Your Name"></paper-input></h2>
      <h3><paper-input name="title" value="{{person.title}}" label="Your Awesome Title"></paper-input></h3>
      <paper-input name="description" value="{{person.description}}" label="Write something about you"></paper-input>
      <input type="file" value="{{person.pic}}"><br /><br />
      <paper-button raisedButton colored="#fff" on-click="{{addPerson}}">Submit</paper-button>
    </profile-item>

    <h3>Preview</h3>
    <name-tag person="{{person}}"></name-tag>

    <profile-list id="service" posts="{{posts}}">
    </profile-list>


  </template>

  <script>
    Polymer('profile-editor', {
      ready: function() {
        this.person = {
          pic: "http://placekitten.com/250/250"
        };
      },
      addPerson: function(event, detail, sender) {
        var post = sender.templateInstance.model.person;
        this.$.service.addPerson(post);

        this.person = {
          pic: "http://placekitten.com/250/250"
        }; //Reset object for new entry
      }
    });
  </script>
</polymer-element>


